<div class="row">
    <div class="col-md-12">
        <h2 class="my-3">{PAGE_TITLE}</h2>
    </div>
</div>

<div class="row">
    <div class="col-md-9">
        {DISH_LIST}
        <ul id="pagination-list" class="pagination pull-right mb-5"></ul>
    </div>

    <div class="col-md-3">
        <div class="card mb-4">
            <h5 class="card-header">Search</h5>
                <div class="card-body">
                    <form action="/dish/" method="get">
                        <div class="form-row align-items-center">
                            <div class="input-group">
                                <input id="srcInput" name="q" value="{QUERY}" type="text" class="form-control">
                                &nbsp;<button type="submit" class="btn btn-primary">Go</button>
                            </div>
                        </div>
                    </form>
                </div>
        </div>

        <!-- Categories Widget -->
        <div class="card my-4">
            <h5 class="card-header">Categories</h5>
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-6">
                        <ul class="list-unstyled mb-0">
                            <li>
                                <a href="#">Ã€ La Carte</a>
                            </li>
                            <li>
                                <a href="#">Cheese Course</a>
                            </li>
                            <li>
                                <a href="#">Dessert</a>
                            </li>
                            <li>
                                <a href="#">Lobster</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-lg-6">
                        <ul class="list-unstyled mb-0">
                            <li>
                                <a href="#">First Course</a>
                            </li>
                            <li>
                                <a href="#">First Dessert</a>
                            </li>
                            <li>
                                <a href="#">First Fish</a>
                            </li>
                            <li>
                                <a href="#">Meat Course</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="card my-4">
            <h5 class="card-header">Side Widget</h5>
            <div class="card-body">
                You can put anything you want inside of these side widgets. They are easy to use, and feature the new Bootstrap 4 card containers!
            </div>
        </div>
    </div>
</div>

<script>
    $(function() {
        $( "#srcInput" ).autocomplete({
            source: "/dish/src/",
            minLength: 2,
            select: function(event, ui) {
                window.location.assign("/dish/" + ui.item.id);
            }
        });
        
        $('[data-toggle="popover"]').popover({
            trigger: 'hover',
            placement: 'auto'
        });
    });
    
    $("#srcInput").focus(function(){
        $(this).val('');
    });
    
    $(document).ready(function () {  
        $('#pagination-list').twbsPagination({
            totalPages: {TOTAL_PAGES},
            startPage: 1,
            visiblePages: 5,
            initiateStartPageClick: true,

            href: false,

            hrefVariable: '{{number}}',

            first: 'First',
            prev: 'Previous',
            next: 'Next',
            last: 'Last',

            loop: false,

            onPageClick: function (event, page) {
                $('.page-active').removeClass('page-active');
                $('#page' + page).addClass('page-active');
                $("#srcInput").attr("page", page);
            },

            paginationClass: 'pagination',
            nextClass: 'page-item',
            prevClass: 'page-item',
            lastClass: 'page-item',
            firstClass: 'page-item',
            pageClass: 'page-item',
            activeClass: 'active',
            disabledClass: 'disabled'
        });
    });
</script>